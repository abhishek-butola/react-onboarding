!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t((e=e||self).ReactOnboarding={},e.React,e.PropTypes)}(this,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;const s="Step";const{Provider:p,Consumer:o}=t.createContext();class i extends t.Component{constructor(e){super(e),r(this,"onOnboardingComplete",()=>{const{onOnboardingComplete:e}=this.props;e()}),r(this,"nextStep",()=>{const{currentStep:e}=this.state;e+1>=this.numberOfSteps||this.setState(e=>({...e,currentStep:e.currentStep+1}))}),r(this,"onboardingRenderer",()=>{const{children:e}=this.props,{currentStep:t}=this.state;let n=0,r=!1;return e.filter(e=>e.type.name!==s||(n!==t||r?(n+=1,!1):(r=!0,!0))).map(e=>(function(e,t={}){return e.type.name,{...e,props:{...e.props,__enhancements:t}}})(e,{nextStep:this.nextStep}))}),this.state={initialStep:e.initialStep||0,currentStep:e.initialStep||0},this.numberOfSteps=e.children.filter(e=>e.type.name===s).length}render(){const{currentStep:e}=this.state;return t.createElement(p,{value:{numberOfSteps:this.numberOfSteps,currentStep:e+1}},this.onboardingRenderer())}}i.propTypes={initialStep:n.number};class a extends t.Component{componentDidMount(){}render(){const{children:e,__enhancements:{nextStep:n},__lastStep:r}=this.props;return t.createElement(t.Fragment,null,e({nextStep:n,lastStep:r})||null)}}a.propTypes={__enhancements:n.shape({nextStep:n.func.isRequired})};class c extends t.Component{render(){const{children:e}=this.props;return e||null}}c.propTypes={};class u extends t.Component{render(){const{children:e}=this.props;return e||null}}u.propTypes={title:n.string},e.Onboarding=i,e.Info=o,e.Step=a,e.Fieldset=c,e.Field=u,Object.defineProperty(e,"__esModule",{value:!0})});
